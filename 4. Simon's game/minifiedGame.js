var started=!1,totalTiles=["redTile","greenTile","yellowTile","blueTile"],currentLevel=1,highestScore=0,currentScore=0,correctSequence=[],result=!0,userSequence=[],bug=0;function generateNumber(){return Math.floor(4*Math.random())}function isMobileView(){return 1080>=$(window).width()}function animateTile(e){let t=isMobileView()?"32vw":"16vw";$(e).addClass("bot-click").animate({height:t,width:t},150,"swing",function(){$(this).removeClass("bot-click")}).delay(300).animate({height:isMobileView()?"30vw":"15vw",width:isMobileView()?"30vw":"15vw"},150,"swing")}function playSound(e){e=e.replace("Tile",""),new Audio("sounds/"+e+".mp3").play()}function takeUserInput(e){userSequence.push(e),animateTile("#"+e);let t=userSequence.length-1;if(userSequence[t]!==correctSequence[t]){result=!1,new Audio("sounds/wrong.mp3").play(),gameOver();return}playSound(e),userSequence.length===correctSequence.length&&(currentScore+=correctSequence.length,updateScoreAndLevel(),setTimeout(function(){userSequence=[],currentLevel++,game()},1e3))}function botTurn(){let e=totalTiles[generateNumber()];correctSequence.push(e),setTimeout(function(){animateTile("#"+e),playSound(e)},600)}function updateScoreAndLevel(){$("h1.current-level").text("Level : "+currentLevel),$("h1.score-points").text("Score : "+currentScore+"pts"),highestScore<currentScore&&(highestScore=currentScore,$(".highest-score h2").text("Highest Score : "+highestScore))}function game(){result=!0,botTurn()}function restart(){currentScore=0,$("h1.score-points").text("Score: "+currentScore+"pts"),$("div.highest-score, h1.score-points").slideDown(700),$("h1.current-level").text("Level : "+currentLevel),$("#restart-button").css("display","none"),$(".title").slideUp(400),started=!1,game()}function gameOver(){started=!1,$("h1.current-level").text("Game Over!"),currentLevel=1,userSequence=[],correctSequence=[],$("h1.score-points").text("Final Score : "+currentScore+"pts"),$(".title").slideDown(400),$("#restart-button").css("display","inline")}$(".tiles").click(function(e){started||bug?takeUserInput(e.target.id):($("h1.current-level").text("Level : "+currentLevel),started=!0,$("div.highest-score").slideDown(800),$("h1.score-points").slideDown(700),$(".title").slideUp(400),bug=1,game())}),$("#restart-button").click(restart);